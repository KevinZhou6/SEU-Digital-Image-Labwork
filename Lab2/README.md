# 图像增强

1. 二阶导数的图像锐化
   1. 锐化作用是突出灰度中的过渡。锐化能够通过空间微分来实现。导数算子的响应强度与应用该算子的点处的灰度不连续幅度成正比。因此，图像微分将增强边缘和其他不连续( 如噪声 )，并且不强调灰度缓慢变化的区域。
   2. 二阶导数在图像处理中的原理
      1. 恒定灰度区域的二阶导数必须为零
      2. 灰度台阶或斜坡的开始处和结束处的二阶导数必须非零
      3. 灰度斜坡上的二阶导数必须为零
   3. 二阶导数计算公式
      1. $\frac{\partial ^2f}{\partial^2 x} = f'(x)-f'(x-1)  = f(x+1)+f(x-1)-2f(x)$.在图像处理中一般是二维函数用偏导，其表达式也是一样的。
      2. 通常使用偏导模板表示图像的偏导计算，习惯上使用Laplacian算子来表示。拉普拉斯是导数算子，因此会突出图像中的急剧灰度过渡，并且不强调缓慢变化的灰度区域。这往往会产生具有灰色边缘线和其他不连续性的图像，它们都叠加在暗色无特征背景上。将拉普拉斯图像与原图像相加，就可“恢复”背景特征，同时保留拉普拉斯的锐化效果。
   4. 计算图像的锐化
      1. 习惯上使用Laplacian算子，增强的表达式写为$\nabla ^2 f=f(x+1,y)+f(x-1,y)+f(x,y-1)+f(x,y+1)-4f(x) $
      2. $g(x,y)=f(x,y)+\nabla^2 f$.
      3. 对于二阶偏导的模板中，还可以增加对角线方向的偏量。这种模板在突出图像边缘中效果更好，后续可以看第四部分实验结果中的展示![](\photo/Laplacian.png)
2. Unsharp Masking非锐化掩蔽
   1. 原理
      1. 将原图像通过反锐化掩模进行模糊预处理(相当于采用低通滤波)后与原图逐点做差值运算，然后乘上一个修正因子再与原图求和，以达到提高图像中高频成分、增强图像轮廓的目的. 。
   2. 基本步骤
      1. 平滑原图像：f→s。本实验使用的均值的滤波器，系数为1/9，通过卷积操作，模仿均值滤波器的效果获得平滑后的图像
      2. 从原图像中减去模糊图像，产生的差值图像称为模 板：m=f-s.由此可以求出图像的高频部分。通过原图像-通过均值滤波器后的低频部分图像。
      3. 将模板乘以一个k 加到原图像中。两重for循环对应点相加即可。
   3. 特点
      1. 系数k越大对细节增强越明显.实验部分有比较不同的系数k的效果。
      2. 平滑减弱的边缘，锐化后增强的更加明显。
