# 噪声
一、
* 实验内容：
    1. 构建一个灰度值全是1的灰度图像，加入一定方差的高斯白噪声（要能看到明显的噪声），判断频谱图是否接近水平；
* 实验原理
    1. 高斯白噪声
       1. 如果一个噪声，它的瞬时值服从高斯分布，而它的功率谱密度又是均匀分布的，则称它为高斯白噪声。
       2. 加入噪声后频谱图的变换：使得频谱值产生偏差，而偏差的分布近似于正态高斯分布。
       3. 加入噪声本质就是加入随机数，改变图片的灰度值，让灰度值发生变化。而高斯噪声让灰度值的变化符合正态分布也就是灰度值绝大部分分布在均值点附近而远离均值点越远概率越小，分布的点越少。
* 实验结果
    1. 图片展示：
   
    ![](./photo/2023-10-23173155.png)

    2. 左侧原始图片为构建的灰度值全是1的图片，显示是全黑的，然后加入高斯噪声，设置一定的方差和均值，不是原本的灰度值1为均值，新选择了均值。所以结果的图片不是水平的直线，而是类似正态分布。

    ![](./photo/Noise_u_1.png)

     3. 当将均值设置为原来的灰度值1时，频谱图可以发现是水平的直线，大部分都聚集再1的附近而远离1的灰度值分布的点数就很少。所以呈现水平
 

二、
* 实验内容
    1. 对lena灰度图像加入高斯噪声，分别对其进行中值处理、均值处理、自适应中值处理、Nonlocal means处理并进行图像对比
    2. 对lena灰度图像加入一定密度的椒盐噪声（要能看到明显的噪声），分别对其进行中值处理、均值处理、自适应中值处理、Nonlocal  means处理并进行图像对比

* 实验原理---不同滤波器的原理
    1. 均值滤波器
       1. 原理：其原理是基于局部像素值的平均来替代每个像素点的灰度值，从而降低图像中的高频噪声。
       2. 步骤
          1. 通过定义一个滤波窗口：均值滤波器需要一个固定大小的窗口，通常是一个正方形或矩形的区域，来滑动遍历整个图像
          2. 将窗口中的像素值取平均：对于窗口中的每个像素，将其灰度值与周围像素的灰度值一起取平均。这个平均值将被分配给窗口中心的像素，以平滑图像。
       3. 优点
          1. 除高频噪声
       4. 缺点：
          1. 导致图像细节的丧失，因为它会模糊图像。
    2. 中值滤波器
       1. 原理：基于一组像素值的中间值（即中位数）来替代每个像素点的灰度值，从而有效地减少异常值对图像的影响。有利于处理椒盐噪声。
       2. 步骤
          1. 对于窗口中的每个像素，将其灰度值记录下来以形成一个像素值集合。
          2. 计算中值：对像素值集合进行排序，并选择中间位置的像素值作为中值。如果像素值的数量为奇数，中值就是中间值；如果像素值的数量为偶数，中值通常是中间两个值的平均值。
       3. 优点：
          1. 去除椒盐噪声和其他突发噪声效果显著，因为它使用中值而不受异常值的影响。
    3. 自适应中值处理
       1. 原理：自适应中值滤波器可以根据每个像素的邻域条件自动调整滤波窗口的大小，以更好地适应图像的特性和噪声水平。这使得它在不同区域具有不同噪声水平的图像中表现出色。
       2. 步骤：
          1. 先计算最小窗口中的中值，如果中值fmed,如果进入第二步，否则扩大窗口大小。如果到达最大窗口大小后还是没有进入第二步返回$f_{i,j}$
          2. 判断 f_{i,j}>fmin,f_{i,j}<fmax  
       3. 优点：
          1. 根据图像的局部特性自动调整窗口大小，从而更好地处理不同区域的图像噪声。它在去除椒盐噪声和其他类型噪声方面效果良好，同时保留了图像的细节
          2. 尽量保护原来图像的信息，而舍去噪声信息。   
    4. Nonlocal means
       1. 原理
          1. 非局部均值滤波则使用当前滤波点的邻域块与矩形窗口内其它点的邻域块的相似度来计算权重，相似度越大则权重越大。
          2. 非局部均值滤波算法就是使用MSE来计算两个邻域块的相似度。邻域块的行列相同，假设均为m行n列，那么MSE的计算如下式，其中A(i,j)为点A邻域块中的点(i,j)的像素值，B(i,j)为点B邻域块中的相同位置点的像素值：$MES(A,B)=\frac{1}{mn} \sum_{i=0}^{m-1}\sum_{j=0}^{n-1}(A(i,j)-B(i,j)^2$
          3. 点A的滤波值由搜索窗口内所有点的像素值加权平均得到：$NL(A)=\sum w(A,B)*I(B)$其中w(Am,B)是高斯权重，I(B)是B点的灰度值。NLmeans采用的类似于高斯权重的形式
          4. 计算$w(A,B),w(A,B) = \frac{1}{sum} \sum e^{-\frac{MES(A,B)}{h^2}}$, 而比例sum为$sum =\sum e^{-\frac{MES(A,B)}{h^2}} $,以实现归一化的作用。
